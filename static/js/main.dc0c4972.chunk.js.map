{"version":3,"sources":["images/logo.svg","components/Header.js","images/like.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/edit.png","images/plus.png","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["Header","className","target","src","logoPath","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onClick","name","type","likePath","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","PopupWithForm","title","isOpen","buttonText","onClose","children","containerName","titleName","btnName","onSubmit","noValidate","ImagePopup","showErrorMessage","res","ok","json","Promise","reject","status","api","options","this","_token","token","_groupID","groupID","fetch","method","headers","authorization","then","data","body","JSON","stringify","likeCardStatus","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","minLength","maxLength","value","onChange","required","id","EditAvatarPopup","onUpdateAvatar","setLink","AddPlacePopup","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setCurrentUser","setCards","selectedCard","setSelectedCard","closeAllPopups","all","getUserInfo","getInitialCards","userData","catch","err","console","log","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setUserInfo","addCard","setUserAvatar","updateUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dc0c4972.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport logoPath from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <a className=\"header__logo\" target=\"_self\">\r\n        <img src={logoPath} alt=\"Логотип сайта\" className=\"header__image\" />\r\n      </a>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/like.df0c9655.svg\";","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport {CurrentUserContext};","import React from 'react';\r\nimport likePath from '../images/like.svg';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__delete ${isOwn ? '' : 'element__delete_inactive'}`\r\n  );\r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `element__link ${isLiked ? 'element__link_active' : ''}`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <img src={`${card.link}`} onClick={handleClick} alt={card.name} className=\"element__image\" />\r\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\"></button>\r\n      <div className=\"element__block\">\r\n        <h2 className=\"element__title\">{card.name}</h2>\r\n        <div className=\"element__box\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\">\r\n            <img src={likePath} alt=\"Изображение сердца\" className=\"element__icon\" />\r\n          </button>\r\n          <div className=\"element__count\">{card.likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport editImagePath from '../images/edit.png';\r\nimport plusImagePath from '../images/plus.png';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete, card }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n\r\n      <section className=\"profile\">\r\n        <div className=\"profile__block\">\r\n          <button className=\"profile__button profile__button_avatar\" type=\"button\" onClick={onEditAvatar}>\r\n            <img src={currentUser.avatar} alt=\"Изображение пользователя\"\r\n              className=\"profile__avatar\" />\r\n          </button>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__author\">\r\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n              <button className=\"profile__button profile__button_edit\" type=\"button\" onClick={onEditProfile}>\r\n                <img src={editImagePath} alt=\"Изображение карандаш\" className=\"profile__pencil\" />\r\n              </button>\r\n            </div>\r\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__button profile__button_plus\" type=\"button\" onClick={onAddPlace}>\r\n          <img src={plusImagePath} alt=\"Изображение плюс\" className=\"profile__plus\" />\r\n        </button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card\r\n                key={card._id}\r\n                card={card}\r\n                onCardClick={onCardClick}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete} />\r\n            )\r\n          })}\r\n        </ul>\r\n      </section>\r\n\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABASURBVHgB1cpBDQAgDEPRSZgEJOAMCUibBCSVLfRI2K40+enliTwGQD3zeoYWzqyC4vULRDgraHiN+I4ILbAk2wl8k3m1+6eCAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABbSURBVHgB7ZTBCQAhDARzx/VzdqB2ZCfWZkXRgKA/F1E/ZiCQx2YeQUMEwMyWGw6ZeWkTKlbxQfEnjx/Ima7/5ZeMBh4kNMO+VZTyQE5WEWsfSiVagR4hFd8qzr8SKuKf+UWqAAAAAElFTkSuQmCC\"","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm({ title, name, isOpen, buttonText, onClose, children, containerName, titleName, btnName, onSubmit }) {\r\n  return (\r\n    <>\r\n      <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n        <div className={`popup__container ${containerName ? containerName : \"\"}`}>\r\n          <button className=\"popup__close\" type=\"button\" onClick={onClose}>&times;</button>\r\n          <h2 className={`popup__title ${titleName ? titleName : \"\"}`}>{title}</h2>\r\n          <form className=\"popup__form popup__form_profile\" name={`popup-form-${name}`} onSubmit={onSubmit} noValidate>\r\n            {children}\r\n            <button className={`popup__btn ${btnName ? btnName : \"\"}`} type=\"submit\">{buttonText}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div className={`popup-image popup ${card.link ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup-image__block\">\r\n        <button className=\"popup__close\" type=\"button\" onClick={onClose}>&times;</button>\r\n        <img src={card.link} alt=\"\" className=\"popup-image__photo\" />\r\n        <h2 className=\"popup-image__descr\">{card.name}</h2>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","const showErrorMessage = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка ${res.status}`);\r\n}\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._token = options.token;\r\n    this._groupID = options.groupID;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  addCard(card) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link\r\n      })\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  deleteCard(card) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards/${card._id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  setUserAvatar(avatar) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  changeLikeCardStatus(card, likeCardStatus) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards/likes/${card._id}`, {\r\n      method: (likeCardStatus ? \"PUT\" : \"DELETE\"),\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  token: \"23cb390e-6742-419b-8dec-601afe24420f\",\r\n  groupID: \"cohort-22\"\r\n});\r\n\r\nexport default api;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = React.useState('Name');\r\n  const [description, setDescription] = React.useState('About');\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    if (currentUser.name && currentUser.about) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeAbout(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <div className=\"popup__area\">\r\n        <input\r\n          className=\"popup__input popup__input_type_name\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name}\r\n          onChange={handleChangeName}\r\n          required />\r\n        <span className=\"popup__input-error\" id=\"popup-name-error\"></span>\r\n      </div>\r\n      <div className=\"popup__area\">\r\n        <input\r\n          className=\"popup__input popup__input_type_job\"\r\n          type=\"text\"\r\n          name=\"about\"\r\n          placeholder=\"О себе\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description}\r\n          onChange={handleChangeAbout}\r\n          required />\r\n        <span className=\"popup__input-error\" id=\"popup-job-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({ avatar: link });\r\n  }\r\n\r\n  function handleChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setLink('');\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      containerName=\"popup-upd__container\"\r\n      titleName=\"popup-upd__title\"\r\n      btnName=\"popup-upd__btn\"\r\n      title=\"Обновить аватар\"\r\n      name=\"update\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <div className=\"popup__area\">\r\n        <input\r\n          className=\"popup-upd__input popup__input\"\r\n          type=\"url\"\r\n          name=\"link\"\r\n          value={link}\r\n          placeholder=\"Ссылка на аватар\"\r\n          required\r\n          onChange={handleChange} />\r\n        <span className=\"popup__input-error popup-upd__input-error\" id=\"popup-upd-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({ name, link });\r\n  }\r\n\r\n  function handleChangeTitle(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"card\"\r\n      buttonText=\"Создать\"\r\n      onSubmit={handleAddPlaceSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}>\r\n      <div className=\"popup__area\">\r\n        <input\r\n          className=\"popup__input popup__input_type_place\"\r\n          type=\"text\"\r\n          name=\"place\"\r\n          placeholder=\"Название\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          value={name}\r\n          onChange={handleChangeTitle}\r\n          onClose={onClose}\r\n          required />\r\n        <span className=\"popup__input-error\" id=\"popup-place-error\"></span>\r\n      </div>\r\n      <div className=\"popup__area\">\r\n        <input\r\n          className=\"popup__input popup__input_type_link\"\r\n          type=\"url\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          value={link}\r\n          onChange={handleChangeLink}\r\n          onClose={onClose}\r\n          required />\r\n        <span className=\"popup__input-error\" id=\"popup-link-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\nimport '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  React.useEffect(() => {\n    Promise.all([\n      api.getUserInfo(),\n      api.getInitialCards()\n    ]).then(([userData, cards]) => {\n      setCurrentUser(userData);\n      setCards(cards);\n    }).catch((err) => {\n      console.log(err);\n    });\n  }, []);\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card)\n      .then(() => {\n        setCards(cards.filter(i => i._id !== card._id));\n        closeAllPopups();\n      })\n  }\n\n  function handleUpdateUser(data) {\n    api.setUserInfo(data)\n      .then((newCard) => {\n        setCurrentUser({\n          ...currentUser,\n          name: newCard.name,\n          about: newCard.about\n        });\n        closeAllPopups();\n      })\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api.setUserAvatar(avatar)\n      .then((updateUser) => {\n        setCurrentUser({ ...currentUser, avatar: updateUser.avatar });\n        closeAllPopups();\n      })\n  }\n\n  function handleAddCard(card) {\n    api.addCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard({});\n  }\n\n  return (\n\n    <div className=\"container\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        ></Main>\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser} />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddCard}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar} />\n\n        <PopupWithForm\n          containerName=\"popup-sure__container\"\n          titleName=\"popup-sure__title\"\n          btnName=\"popup__btn_yes\"\n          title=\"Вы уверены?\"\n          name=\"delete\"\n          buttonText=\"Да\" />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups} />\n\n      </CurrentUserContext.Provider>\n    </div>\n\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}