{"version":3,"sources":["images/logo.svg","components/Header.js","images/like.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/edit.png","images/plus.png","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["Header","className","target","src","logoPath","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onClick","name","type","likePath","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","Date","getFullYear","PopupWithForm","title","isOpen","buttonText","onClose","children","containerName","titleName","btnName","onSubmit","noValidate","ImagePopup","showErrorMessage","res","ok","json","Promise","reject","status","api","options","this","_token","token","_groupID","groupID","fetch","method","headers","authorization","then","data","body","JSON","stringify","likeCardStatus","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","minLength","maxLength","value","onChange","required","id","EditAvatarPopup","onUpdateAvatar","setLink","AddPlacePopup","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setCurrentUser","setCards","selectedCard","setSelectedCard","closeAllPopups","all","getUserInfo","getInitialCards","userData","catch","err","console","log","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setUserInfo","addCard","setUserAvatar","updateUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3a75f1de.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\nimport logoPath from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <a className=\"header__logo\" target=\"_self\">\n        <img src={logoPath} alt=\"Логотип сайта\" className=\"header__image\" />\n      </a>\n    </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/like.df0c9655.svg\";","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport {CurrentUserContext};","import React from \"react\";\nimport likePath from \"../images/like.svg\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? \"\" : \"element__delete_inactive\"\n  }`;\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__link ${\n    isLiked ? \"element__link_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        src={`${card.link}`}\n        onClick={handleClick}\n        alt={card.name}\n        className=\"element__image\"\n      />\n      <button\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n        type=\"button\"\n      ></button>\n      <div className=\"element__block\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__box\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n            type=\"button\"\n          >\n            <img\n              src={likePath}\n              alt=\"Изображение сердца\"\n              className=\"element__icon\"\n            />\n          </button>\n          <div className=\"element__count\">{card.likes.length}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport editImagePath from \"../images/edit.png\";\nimport plusImagePath from \"../images/plus.png\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n  card\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__block\">\n          <button\n            className=\"profile__button profile__button_avatar\"\n            type=\"button\"\n            onClick={onEditAvatar}\n          >\n            <img\n              src={currentUser.avatar}\n              alt=\"Изображение пользователя\"\n              className=\"profile__avatar\"\n            />\n          </button>\n          <div className=\"profile__info\">\n            <div className=\"profile__author\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button\n                className=\"profile__button profile__button_edit\"\n                type=\"button\"\n                onClick={onEditProfile}\n              >\n                <img\n                  src={editImagePath}\n                  alt=\"Изображение карандаш\"\n                  className=\"profile__pencil\"\n                />\n              </button>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__button profile__button_plus\"\n          type=\"button\"\n          onClick={onAddPlace}\n        >\n          <img\n            src={plusImagePath}\n            alt=\"Изображение плюс\"\n            className=\"profile__plus\"\n          />\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABASURBVHgB1cpBDQAgDEPRSZgEJOAMCUibBCSVLfRI2K40+enliTwGQD3zeoYWzqyC4vULRDgraHiN+I4ILbAk2wl8k3m1+6eCAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABbSURBVHgB7ZTBCQAhDARzx/VzdqB2ZCfWZkXRgKA/F1E/ZiCQx2YeQUMEwMyWGw6ZeWkTKlbxQfEnjx/Ima7/5ZeMBh4kNMO+VZTyQE5WEWsfSiVagR4hFd8qzr8SKuKf+UWqAAAAAElFTkSuQmCC\"","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">\n        &copy; {new Date().getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  title,\n  name,\n  isOpen,\n  buttonText,\n  onClose,\n  children,\n  containerName,\n  titleName,\n  btnName,\n  onSubmit,\n}) {\n  return (\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className={`popup__container ${containerName ? containerName : \"\"}`}>\n        <button className=\"popup__close\" type=\"button\" onClick={onClose}>\n          &times;\n        </button>\n        <h2 className={`popup__title ${titleName ? titleName : \"\"}`}>\n          {title}\n        </h2>\n        <form\n          className=\"popup__form popup__form_profile\"\n          name={`popup-form-${name}`}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          {children}\n          <button\n            className={`popup__btn ${btnName ? btnName : \"\"}`}\n            type=\"submit\"\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup-image popup ${card.link ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup-image__block\">\n        <button className=\"popup__close\" type=\"button\" onClick={onClose}>\n          &times;\n        </button>\n        <img src={card.link} alt=\"\" className=\"popup-image__photo\" />\n        <h2 className=\"popup-image__descr\">{card.name}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\r\n\r\nconst showErrorMessage = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка ${res.status}`);\r\n}\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._token = options.token;\r\n    this._groupID = options.groupID;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  addCard(card) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link\r\n      })\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  deleteCard(card) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards/${card._id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  setUserAvatar(avatar) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n\r\n  changeLikeCardStatus(card, likeCardStatus) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards/likes/${card._id}`, {\r\n      method: (likeCardStatus ? \"PUT\" : \"DELETE\"),\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(showErrorMessage)\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  token: \"23cb390e-6742-419b-8dec-601afe24420f\",\r\n  groupID: \"cohort-22\"\r\n});\r\n\r\nexport default api;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState(\"Name\");\n  const [description, setDescription] = React.useState(\"About\");\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (currentUser.name && currentUser.about) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser, isOpen]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeAbout(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"profile\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__area\">\n        <input\n          className=\"popup__input popup__input_type_name\"\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Имя\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name}\n          onChange={handleChangeName}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"popup-name-error\"></span>\n      </div>\n      <div className=\"popup__area\">\n        <input\n          className=\"popup__input popup__input_type_job\"\n          type=\"text\"\n          name=\"about\"\n          placeholder=\"О себе\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={description}\n          onChange={handleChangeAbout}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"popup-job-error\"></span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const [link, setLink] = React.useState(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({ avatar: link });\n  }\n\n  function handleChange(e) {\n    setLink(e.target.value);\n  }\n\n  React.useEffect(() => {\n    setLink(\"\");\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      containerName=\"popup-upd__container\"\n      titleName=\"popup-upd__title\"\n      btnName=\"popup-upd__btn\"\n      title=\"Обновить аватар\"\n      name=\"update\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__area\">\n        <input\n          className=\"popup-upd__input popup__input\"\n          type=\"url\"\n          name=\"link\"\n          value={link}\n          placeholder=\"Ссылка на аватар\"\n          required\n          onChange={handleChange}\n        />\n        <span\n          className=\"popup__input-error popup-upd__input-error\"\n          id=\"popup-upd-error\"\n        ></span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n    onAddPlace({ name, link });\n  }\n\n  function handleChangeTitle(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  React.useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"card\"\n      buttonText=\"Создать\"\n      onSubmit={handleAddPlaceSubmit}\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <div className=\"popup__area\">\n        <input\n          className=\"popup__input popup__input_type_place\"\n          type=\"text\"\n          name=\"place\"\n          placeholder=\"Название\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          value={name}\n          onChange={handleChangeTitle}\n          onClose={onClose}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"popup-place-error\"></span>\n      </div>\n      <div className=\"popup__area\">\n        <input\n          className=\"popup__input popup__input_type_link\"\n          type=\"url\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          value={link}\n          onChange={handleChangeLink}\n          onClose={onClose}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"popup-link-error\"></span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport \"../index.css\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api.changeLikeCardStatus(card, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card).then(() => {\n      setCards(cards.filter((i) => i._id !== card._id));\n      closeAllPopups();\n    });\n  }\n\n  function handleUpdateUser(data) {\n    api.setUserInfo(data).then((newCard) => {\n      setCurrentUser({\n        ...currentUser,\n        name: newCard.name,\n        about: newCard.about,\n      });\n      closeAllPopups();\n    });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api.setUserAvatar(avatar).then((updateUser) => {\n      setCurrentUser({ ...currentUser, avatar: updateUser.avatar });\n      closeAllPopups();\n    });\n  }\n\n  function handleAddCard(card) {\n    api.addCard(card).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    });\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard({});\n  }\n\n  return (\n    <div className=\"container\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        ></Main>\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddCard}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <PopupWithForm\n          containerName=\"popup-sure__container\"\n          titleName=\"popup-sure__title\"\n          btnName=\"popup__btn_yes\"\n          title=\"Вы уверены?\"\n          name=\"delete\"\n          buttonText=\"Да\"\n        />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}