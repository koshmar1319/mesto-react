{"version":3,"sources":["images/logo.svg","components/Header.js","images/like.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/edit.png","images/plus.png","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/AffirmDeletePopup.js","components/App.js","index.js"],"names":["Header","className","target","href","src","logoPath","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onClick","name","type","likePath","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","Date","getFullYear","ImagePopup","onClose","api","options","_showErrorMessage","res","ok","json","Promise","reject","status","this","_token","token","_groupID","groupID","fetch","method","headers","authorization","then","data","body","JSON","stringify","likeCardStatus","PopupWithForm","title","isOpen","buttonText","children","containerName","titleName","btnName","onSubmit","buttonState","noValidate","disabled","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","nameInputValid","setNameInputValid","aboutInputValid","setAboutInputValid","nameErrorMessage","setNameErrorMessage","aboutErrorMessage","setAboutErrorMessage","setButtonState","useEffect","e","preventDefault","placeholder","minLength","maxLength","value","onChange","inputElement","validity","valid","validationMessage","required","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","linkInputValid","setLinkInputValid","linkErrorMessage","setLinkErrorMessage","linkOriginalState","setLinkOriginalState","current","ref","id","AddPlacePopup","setLink","nameOriginalState","setNameOriginalState","AffirmDeletePopup","onSubmitDelete","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setCurrentUser","setCards","selectedCard","setSelectedCard","isAffirmDeletePopupOpen","setAffirmDeletePopupOpen","cardToDelete","setCardToDelete","loadTextEditProfilePopup","setLoadTextEditProfilePopup","loadTextEditAvatarPopup","setLoadTextEditAvatarPopup","loadTextAddPlacePopup","setLoadTextAddPlacePopup","loadTextAffirmDeletePopup","setLoadTextAffirmDeletePopup","closeAllPopups","all","getUserInfo","getInitialCards","userData","catch","err","console","log","handleEscClose","evt","key","document","addEventListener","removeEventListener","closeOutsidePopup","classList","contains","Provider","changeLikeCardStatus","newCard","state","c","setUserInfo","addCard","setUserAvatar","updateUser","deleteCard","filter","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.796e63ce.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\nimport logoPath from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <a className=\"header__logo\" target=\"_self\" href=\"/mesto-react\">\n        <img src={logoPath} alt=\"Логотип сайта\" className=\"header__image\" />\n      </a>\n    </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/like.df0c9655.svg\";","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport {CurrentUserContext};","import React from \"react\";\nimport likePath from \"../images/like.svg\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? \"\" : \"element__delete_inactive\"\n  }`;\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__link ${\n    isLiked ? \"element__link_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        src={`${card.link}`}\n        onClick={handleClick}\n        alt={card.name}\n        className=\"element__image\"\n      />\n      <button\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n        type=\"button\"\n      ></button>\n      <div className=\"element__block\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__box\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n            type=\"button\"\n          >\n            <img\n              src={likePath}\n              alt=\"Изображение сердца\"\n              className=\"element__icon\"\n            />\n          </button>\n          <div className=\"element__count\">{card.likes.length}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport editImagePath from \"../images/edit.png\";\nimport plusImagePath from \"../images/plus.png\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n  card,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__block\">\n          <button\n            className=\"profile__button profile__button_avatar\"\n            type=\"button\"\n            onClick={onEditAvatar}\n          >\n            <img\n              src={currentUser.avatar}\n              alt=\"Изображение пользователя\"\n              className=\"profile__avatar\"\n            />\n          </button>\n          <div className=\"profile__info\">\n            <div className=\"profile__author\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button\n                className=\"profile__button profile__button_edit\"\n                type=\"button\"\n                onClick={onEditProfile}\n              >\n                <img\n                  src={editImagePath}\n                  alt=\"Изображение карандаш\"\n                  className=\"profile__pencil\"\n                />\n              </button>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__button profile__button_plus\"\n          type=\"button\"\n          onClick={onAddPlace}\n        >\n          <img\n            src={plusImagePath}\n            alt=\"Изображение плюс\"\n            className=\"profile__plus\"\n          />\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABASURBVHgB1cpBDQAgDEPRSZgEJOAMCUibBCSVLfRI2K40+enliTwGQD3zeoYWzqyC4vULRDgraHiN+I4ILbAk2wl8k3m1+6eCAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABbSURBVHgB7ZTBCQAhDARzx/VzdqB2ZCfWZkXRgKA/F1E/ZiCQx2YeQUMEwMyWGw6ZeWkTKlbxQfEnjx/Ima7/5ZeMBh4kNMO+VZTyQE5WEWsfSiVagR4hFd8qzr8SKuKf+UWqAAAAAElFTkSuQmCC\"","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">\n        &copy; {new Date().getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup-image popup ${card.link ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup-image__block\">\n        <button className=\"popup__close\" type=\"button\" onClick={onClose}>\n          &times;\n        </button>\n        <img src={card.link} alt=\"\" className=\"popup-image__photo\" />\n        <h2 className=\"popup-image__descr\">{card.name}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\r\n  constructor(options) {\r\n    this._token = options.token;\r\n    this._groupID = options.groupID;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(this._showErrorMessage)\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n      .then(this._showErrorMessage)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(this._showErrorMessage)\r\n  }\r\n\r\n  addCard(card) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link\r\n      })\r\n    })\r\n      .then(this._showErrorMessage)\r\n  }\r\n\r\n  deleteCard(card) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards/${card._id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(this._showErrorMessage)\r\n  }\r\n\r\n  setUserAvatar(avatar) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n      .then(this._showErrorMessage)\r\n  }\r\n\r\n  changeLikeCardStatus(card, likeCardStatus) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards/likes/${card._id}`, {\r\n      method: (likeCardStatus ? \"PUT\" : \"DELETE\"),\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(this._showErrorMessage)\r\n  }\r\n\r\n  _showErrorMessage = (res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  token: \"23cb390e-6742-419b-8dec-601afe24420f\",\r\n  groupID: \"cohort-22\"\r\n});\r\n\r\nexport default api;","import React from \"react\";\n\nfunction PopupWithForm({\n  title,\n  name,\n  isOpen,\n  buttonText,\n  onClose,\n  children,\n  containerName,\n  titleName,\n  btnName,\n  onSubmit,\n  buttonState,\n}) {\n  return (\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className={`popup__container ${containerName ? containerName : \"\"}`}>\n        <button className=\"popup__close\" type=\"button\" onClick={onClose}>\n          &times;\n        </button>\n        <h2 className={`popup__title ${titleName ? titleName : \"\"}`}>\n          {title}\n        </h2>\n        <form\n          className=\"popup__form popup__form_profile\"\n          name={`popup-form-${name}`}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          {children}\n          <button\n            className={`popup__btn ${btnName ? btnName : \"\"} ${\n              !buttonState ? \"popup__btn_inactive\" : \"\"\n            }`}\n            type=\"submit\"\n            disabled={!buttonState ? true : \"\"}\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, buttonText }) {\n  const [name, setName] = React.useState(\"Name\");\n  const [description, setDescription] = React.useState(\"About\");\n\n  const [nameInputValid, setNameInputValid] = React.useState(true);\n  const [aboutInputValid, setAboutInputValid] = React.useState(true);\n  const [nameErrorMessage, setNameErrorMessage] = React.useState(\"\");\n  const [aboutErrorMessage, setAboutErrorMessage] = React.useState(\"\");\n  const [buttonState, setButtonState] = React.useState(false);\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (currentUser.name && currentUser.about) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n    setNameInputValid(true);\n    setAboutInputValid(true);\n  }, [currentUser, isOpen]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n    checkNameInputValidity(e.target);\n  }\n\n  function handleChangeAbout(e) {\n    setDescription(e.target.value);\n    checkAboutInputValidity(e.target);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  function checkNameInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      setNameInputValid(false);\n      setNameErrorMessage(inputElement.validationMessage);\n    } else {\n      setNameInputValid(true);\n    }\n  }\n\n  function checkAboutInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      setAboutInputValid(false);\n      setAboutErrorMessage(inputElement.validationMessage);\n    } else {\n      setAboutInputValid(true);\n    }\n  }\n\n  React.useEffect(() => {\n    if (nameInputValid && aboutInputValid) {\n      setButtonState(true);\n    } else {\n      setButtonState(false);\n    }\n  }, [nameInputValid, aboutInputValid]);\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"profile\"\n      buttonText={buttonText}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonState={buttonState}\n    >\n      <div className=\"popup__area\">\n        <input\n          className={`popup__input popup__input_type_name`}\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Имя\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name}\n          onChange={handleChangeName}\n          required\n        />\n        <span\n          className={`popup__input-error ${\n            !nameInputValid ? \"popup__input-error_active\" : \"\"\n          }`}\n        >\n          {nameErrorMessage}\n        </span>\n      </div>\n      <div className=\"popup__area\">\n        <input\n          className=\"popup__input popup__input_type_job\"\n          type=\"text\"\n          name=\"about\"\n          placeholder=\"О себе\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={description}\n          onChange={handleChangeAbout}\n          required\n        />\n        <span\n          className={`popup__input-error ${\n            !aboutInputValid ? \"popup__input-error_active\" : \"\"\n          }`}\n        >\n          {aboutErrorMessage}\n        </span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, buttonText }) {\n  const inputRef = React.useRef();\n\n  const [linkInputValid, setLinkInputValid] = React.useState(true);\n  const [linkErrorMessage, setLinkErrorMessage] = React.useState(\"\");\n  const [buttonState, setButtonState] = React.useState(false);\n  const [linkOriginalState, setLinkOriginalState] = React.useState(true);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({ avatar: inputRef.current.value });\n  }\n\n  function handleChange(e) {\n    if (!e.target.validity.valid) {\n      setLinkOriginalState(false);\n      setLinkInputValid(false);\n      setLinkErrorMessage(e.target.validationMessage);\n    } else {\n      setLinkOriginalState(false);\n      setLinkInputValid(true);\n    }\n  }\n\n  React.useEffect(() => {\n    setLinkOriginalState(true);\n    setLinkInputValid(true);\n    setButtonState(false);\n    inputRef.current.value = \"\";\n  }, [isOpen]);\n\n  React.useEffect(() => {\n    if (linkInputValid && !linkOriginalState) {\n      setButtonState(true);\n    } else {\n      setButtonState(false);\n    }\n  }, [linkInputValid, linkOriginalState]);\n\n  return (\n    <PopupWithForm\n      containerName=\"popup-upd__container\"\n      titleName=\"popup-upd__title\"\n      btnName=\"popup-upd__btn\"\n      title=\"Обновить аватар\"\n      name=\"update\"\n      buttonText={buttonText}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonState={buttonState}\n    >\n      <div className=\"popup__area\">\n        <input\n          className=\"popup-upd__input popup__input\"\n          type=\"url\"\n          name=\"link\"\n          placeholder=\"Ссылка на аватар\"\n          ref={inputRef}\n          onChange={handleChange}\n          required\n        />\n        <span\n          className={`popup__input-error popup-upd__input-error ${\n            !linkInputValid ? \"popup__input-error_active\" : \"\"\n          }`}\n          id=\"popup-upd-error\"\n        >\n          {linkErrorMessage}\n        </span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, buttonText }) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  const [nameInputValid, setNameInputValid] = React.useState(true);\n  const [linkInputValid, setLinkInputValid] = React.useState(true);\n  const [nameErrorMessage, setNameErrorMessage] = React.useState(\"\");\n  const [linkErrorMessage, setLinkErrorMessage] = React.useState(\"\");\n  const [buttonState, setButtonState] = React.useState(false);\n\n  const [nameOriginalState, setNameOriginalState] = React.useState(true);\n  const [linkOriginalState, setLinkOriginalState] = React.useState(true);\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n    onAddPlace({ name, link });\n  }\n\n  function handleChangeTitle(e) {\n    setName(e.target.value);\n    checkNameInputValidity(e.target);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n    checkLinkInputValidity(e.target);\n  }\n\n  React.useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n    setNameInputValid(true);\n    setLinkInputValid(true);\n    setButtonState(false);\n    setNameOriginalState(true);\n    setLinkOriginalState(true);\n  }, [isOpen]);\n\n  React.useEffect(() => {\n    if (\n      nameInputValid &&\n      linkInputValid &&\n      !nameOriginalState &&\n      !linkOriginalState\n    ) {\n      setButtonState(true);\n    } else {\n      setButtonState(false);\n    }\n  }, [nameInputValid, linkInputValid, nameOriginalState, linkOriginalState]);\n\n  function checkNameInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      setNameOriginalState(false);\n      setNameInputValid(false);\n      setNameErrorMessage(inputElement.validationMessage);\n    } else {\n      setNameOriginalState(false);\n      setNameInputValid(true);\n    }\n  }\n\n  function checkLinkInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      setLinkOriginalState(false);\n      setLinkInputValid(false);\n      setLinkErrorMessage(inputElement.validationMessage);\n    } else {\n      setLinkOriginalState(false);\n      setLinkInputValid(true);\n    }\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"card\"\n      buttonText={buttonText}\n      onSubmit={handleAddPlaceSubmit}\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonState={buttonState}\n    >\n      <div className=\"popup__area\">\n        <input\n          className=\"popup__input popup__input_type_place\"\n          type=\"text\"\n          name=\"place\"\n          placeholder=\"Название\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          value={name}\n          onChange={handleChangeTitle}\n          onClose={onClose}\n          required\n        />\n        <span\n          className={`popup__input-error ${\n            !nameInputValid ? \"popup__input-error_active\" : \"\"\n          }`}\n        >\n          {nameErrorMessage}\n        </span>\n      </div>\n      <div className=\"popup__area\">\n        <input\n          className=\"popup__input popup__input_type_link\"\n          type=\"url\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          value={link}\n          onChange={handleChangeLink}\n          onClose={onClose}\n          required\n        />\n        <span\n          className={`popup__input-error ${\n            !linkInputValid ? \"popup__input-error_active\" : \"\"\n          }`}\n        >\n          {linkErrorMessage}\n        </span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AffirmDeletePopup({\n  isOpen,\n  onClose,\n  card,\n  onSubmitDelete,\n  buttonText,\n}) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmitDelete(card);\n  }\n\n  return (\n    <PopupWithForm\n      containerName=\"popup-sure__container\"\n      titleName=\"popup-sure__title\"\n      btnName=\"popup__btn_yes\"\n      title=\"Вы уверены?\"\n      name=\"delete\"\n      buttonText={buttonText}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonState={true}\n    />\n  );\n}\n\nexport default AffirmDeletePopup;\n","import React from \"react\";\nimport \"../index.css\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport AffirmDeletePopup from \"./AffirmDeletePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [isAffirmDeletePopupOpen, setAffirmDeletePopupOpen] = React.useState(false);\n  const [cardToDelete, setCardToDelete] = React.useState({});\n\n  const [loadTextEditProfilePopup, setLoadTextEditProfilePopup] = React.useState(\"Сохранить\");\n  const [loadTextEditAvatarPopup, setLoadTextEditAvatarPopup] = React.useState(\"Сохранить\");\n  const [loadTextAddPlacePopup, setLoadTextAddPlacePopup] = React.useState(\"Создать\");\n  const [loadTextAffirmDeletePopup, setLoadTextAffirmDeletePopup] = React.useState(\"Да\");\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n    setLoadTextEditProfilePopup(\"Сохранить\");\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n    setLoadTextAddPlacePopup(\"Создать\");\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n    setLoadTextEditAvatarPopup(\"Сохранить\");\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    setLoadTextAffirmDeletePopup(\"Удаление . . .\");\n    api\n      .deleteCard(card)\n      .then(() => {\n        setCards(cards.filter((i) => i._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function affirmCardDelete(card) {\n    setLoadTextAffirmDeletePopup(\"Да\");\n    setCardToDelete(card);\n    setAffirmDeletePopupOpen(true);\n  }\n\n  function handleUpdateUser(data) {\n    setLoadTextEditProfilePopup(\"Сохранение . . .\");\n    api\n      .setUserInfo(data)\n      .then((newCard) => {\n        setCurrentUser({\n          ...currentUser,\n          name: newCard.name,\n          about: newCard.about,\n        });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setLoadTextEditAvatarPopup(\"Сохранение . . .\");\n    api\n      .setUserAvatar(avatar)\n      .then((updateUser) => {\n        setCurrentUser({ ...currentUser, avatar: updateUser.avatar });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddCard(card) {\n    setLoadTextAddPlacePopup(\"Создание . . .\");\n    api\n      .addCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAffirmDeletePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener(\"keydown\", handleEscClose);\n    return () => document.removeEventListener(\"keydown\", handleEscClose);\n  }, []);\n\n  React.useEffect(() => {\n    function closeOutsidePopup(evt) {\n      if (\n        evt.target.classList.contains(\"popup\") ||\n        evt.target.classList.contains(\"popup__close\")\n      ) {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener(\"click\", closeOutsidePopup);\n    return () => document.removeEventListener(\"click\", closeOutsidePopup);\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={affirmCardDelete}\n        ></Main>\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          buttonText={loadTextEditProfilePopup}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddCard}\n          buttonText={loadTextAddPlacePopup}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          buttonText={loadTextEditAvatarPopup}\n        />\n\n        <AffirmDeletePopup\n          isOpen={isAffirmDeletePopupOpen}\n          onClose={closeAllPopups}\n          onSubmitDelete={handleCardDelete}\n          card={cardToDelete}\n          buttonText={loadTextAffirmDeletePopup}\n        />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}